# useEffect 
- useEffect는 컴포넌트가 렌더링된 후에 부수효과를 일으키고 싶을 때 사용하는 훅이다.
- 렌더링이 완료된 후, 의존성에 있는 값이 변경사항이 있다면 callback으로 선언한 부수효과를 실행한다.

- `인수`
    - 첫번째 인수 : 실행할 부수효과가 포함된 **콜백함수**
    - 두번째 인수 : **의존성 배열**
        - **빈배열** useEffect(…, []) : 비교할 의존성이 없다고 판단, 최초 렌더링 완료된 직후에만 실행됨
        - **생략** useEffect(…) : 의존성 비교할 필요없이 렌더링 직후마다 실행이 필요하다고 판단, 렌더링이 완료된 후 실행된다
        - **값을 가진 배열** useEffect(…, [val])

- `반환` : 클린업 함수

## useEffect가 반환하는 클린업 함수
- useEffect 내에서 반환되는 함수는 클린업 함수라고 불리며, 언마운트라기 보다는 함수형 컴포넌트가 리렌더링됐을 때 이전의 값을 기준으로 실행되므로, 이전 상태를 청소하기 좋은 함수다.
- 용도 : useEffect 콜백에 이벤트를 등록했을때, 그 이벤트를 지우는 용도로 사용 (이벤트 핸들러 무한히 추가되는것 방지)

## useEffect에 클린업 함수를 선언한 경우 동작
1) 브라우저에 DOM 업데이트 반영이 완료된 후, useEffect가 실행된다. 
2) 의존성배열이 변경되었는지 **비교** (비교는 `Object.is`를 기반으로 얕은 비교를 수행함)
    1-1) 이전의 **클린업 함수 존재시** 
            —> **클린업함수 실행**하고 + 첫번째인수인 **콜백함수를** 실행한다. 
    1-2) 클린업 함수가 **없다면**
            —> 첫번째 인수인 **콜백함수만** 실행한다.