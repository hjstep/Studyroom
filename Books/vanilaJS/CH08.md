# 8장_자바스크립트 HTML DOM

## HTML DOM

자바스크립트는 HTML 문서의 모든 요소에 접근하여 변경할 수 있다. 사용자가 웹페이지에 접근하면 웹페이지가 로드되면서 브라우저는 웹페이지에 대한 DOM을 생성하게 된다.
DOM은 W3C의 표준이며, 문서에 접근하기 위한 표준을 정의한다.
HTML DOM은 HTML을 위한 표준 객체 모델 및 프로그래밍 인터페이스이다.
HTML DOM 모델은 객체 트리로 구성된다.

## 자바스크립트는 HTML DOM 객체 모델을 통해 다음 기능을 수행할 수 있다.

- 페이지의 모든 HTML 요소를 변경할 수 있다.
- 페이지의 모든 HTML 속성을 변경할 수 있다.
- 페이지의 모든 CSS 스타일을 변경할 수 있다.
- 페이지의 HTML 요소 및 속성을 제거할 수 있다.
- 새로운 HTML 요소 및 속성을 추가할 수 있다.
- 페이지에 존재하는 모든 HTML 이벤트에 반응할 수 있다.
- 새로운 HTML 이벤트를 추가할 수 있다.


## 복합 선택자

- 인접 형제 선택자 (Adjacent Sibling Combinator)
같은 부모 요소를 가지는 요소들을 형제 요소라고 하는데, 이때 자식 요소들 중에서 먼저 나오는 요소를 "형 요소", 나중에 나오는 요소를 "동생 요소"라고 한다.
인접 형제 선택자는 같은 레벨에 있는 자식 요소 중 나란히 붙어있는 요소, 바로 옆 형제 요소이다.
```css
h1+ul {
    background: blue;
}
```
- 일반 형제 선택자 (General Sibling Combinator)
조건을 충족하는 모든 동생 요소에 스타일 적용하도록 하는 선택자이다.
```css
h1~ul {
    background: green;
}
```

## insertAdjacentHTML()

DOM 요소를 기준으로 형제 노드 or 자식 노드의 제일 앞/뒤에 새로운 HTML을 삽입해야 하는 경우 사용한다.

- 2개의 파라미터 
  - 첫번째 파라미터: DOM 요소를 삽입할 위치
  - 두번째 파라미터: 삽입할 DOM 요소에 대한 문자열

- DOM을 삽입할 위치
  - `afterbegin` 접근한 DOM 요소의 자식 노드의 제일 첫번째 노드로 삽입
  - `afterend` 접근한 DOM 요소의 바로 다음 노드로 삽입
  - `beforebegin` 접근한 DOM 요소의 바로 직전 노드로 삽입
  - `beforeend` 접근한 DOM 요소의 자식 노드의 제일 마지막 노드로 삽입

## insertAdjacentText()

자식노드가 아닌 현재 접근한 DOM 요소의 위치를 기준으로 텍스트를 삽입하는 방법이다.

- 2개의 파라미터 
  - 첫번째 파라미터: 텍스트를 삽입할 위치
  - 두번째 파라미터: 삽입할 텍스트 문자열

- 텍스트를 삽입할 위치
  - `afterbegin` 접근한 DOM 요소의 자식 노드의 제일 첫번째 노드로 삽입
  - `afterend` 접근한 DOM 요소의 바로 다음 노드로 삽입
  - `beforebegin` 접근한 DOM 요소의 바로 직전 노드로 삽입
  - `beforeend` 접근한 DOM 요소의 자식 노드의 제일 마지막 노드로 삽입

## load 이벤트 (onload)

웹페이지의 모든 HTML DOM 요소가 로딩되면 발생하는 이벤트이다.
load 이벤트는 모든 DOM 요소가 렌더링이 되고 난 후 발생하는 이벤트이다. 그래서 load 이벤트 이후 자바스크립트 코드가 실행되도록 구현해야 한다.

```javascript
window.addEventListener("load", function() {
    // DOM을 조작하는 코드 구현
});
```

## unload 이벤트 (onunload)

현재 웹 페이지에서 다른 페이지로 이동하거나 or 브라우저 창을 닫을 때 발생하는 이벤트이다.

실무에서
- 브라우저 창을 닫거나 다른 웹사이트로 이동할때 자동 로그아웃 처리 구현
- 현재 페이지에서 선언한 변수 중 메모리 공간을 많이 차지하는 변수가 있다면, 메모리 공간을 확보하고자 해당 변수의 값을 null 처리하는 코드 구현

```javascript
let nums = [3,5,1,7,9]; 

window.addEventListener("unload", function() {
    nums = null;
})
```